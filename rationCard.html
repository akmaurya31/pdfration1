<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Request Ration Card</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50">

<!-- Header рдпрд╣рд╛рдВ load рд╣реЛрдЧрд╛ -->
<div id="header"></div>

<div class="container mx-auto my-5 px-4">
  <div class="flex justify-center">
    <div class="w-full max-w-md">
      <form id="rationForm">
        <div class="p-4 bg-light rounded shadow-md">

          <div class="text-xl text-center font-bold text-red-500 mb-4"> 
            рдХреГрдкрдпрд╛ рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рд╣рдорд╛рд░реЗ рдкреЛрд░реНрдЯрд▓ рдкрд░ рдЙрдкрд▓рдмреНрдз рд╕рднреА рд░рд╛рд╢рди рдХрд╛рд░реНрдб PDF рдХреЛ рддреБрд░рдВрдд рдбрд╛рдЙрдирд▓реЛрдб рдХрд░ рдХреЗ рдЕрдкрдиреЗ рдкрд╛рд╕ рд╕реБрд░рдХреНрд╖рд┐рдд рд░рдЦреЗрдВред 
            <br/>
            рд╡реЗрдмрд╕рд╛рдЗрдЯ рдореЗрдВ рдореЗрдВрдЯреЗрдиреЗрдВрд╕ рдХреЗ рдХрд╛рд░рдг рдЖрдкрдХреЗ рдбрд╛рдЯрд╛ рдХрд╛ рдиреБрдХрд╕рд╛рди рд╣реЛ рд╕рдХрддрд╛ рд╣реИред 
            <br/>
            рдЖрдкрдХреА рд╕реБрд░рдХреНрд╖рд╛ рд╣рдорд╛рд░реА рдкреНрд░рд╛рдердорд┐рдХрддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдХреГрдкрдпрд╛ рдЗрд╕реЗ рдирдЬрд░рдЕрдВрджрд╛рдЬ рди рдХрд░реЗрдВред 
          </div>

          <div class="text-xl text-center font-bold text-red-500 mb-4">
            ЁЯЫТ Request Ration Card
          </div>

          <div class="mb-3">
            <label for="name" class="block font-bold text-gray-700">
              ЁЯСд Candidate Name (рдореБрдЦрд┐рдпрд╛) :
            </label>
            <input id="name" name="name"
              class="form-input mt-1 block w-full bg-gray-200 text-black font-bold p-4 rounded"
              placeholder="Enter name"
              type="text"
              required
            />
          </div>

          <div class="mb-3 hidden">
            <label for="adhar" class="block font-bold text-gray-700">Aadhaar Card No. :</label>
            <input id="adhar" name="adhar"
              class="form-input mt-1 block w-full bg-gray-200 text-black font-bold p-4 rounded"
              placeholder="Enter adhar no."
              type="number"
            />
          </div>

          <div class="mb-3">
            <label for="ration" class="block font-bold text-gray-700">
              ЁЯУЬ Ration Card No. (рд░рд╛рд╢рди рдХрд╛рд░реНрдб рд╕рдВрдЦреНрдпрд╛) :
            </label>
            <input id="ration" name="ration"
              class="form-input mt-1 block w-full bg-gray-200 text-black font-bold p-4 rounded"
              placeholder="Enter ration"
              type="number"
              required
            />
          </div>

          <div class="mb-3">
            <label for="janpad" class="block font-bold text-gray-700">ЁЯПЩя╕П District (рдЬрдирдкрдж):</label>
            <input id="janpad" name="janpad"
              class="form-input mt-1 block w-full bg-gray-200 text-black font-bold p-4 rounded"
              placeholder="Enter рдЬрдирдкрдж"
              type="text"
              required
            />
          </div>

          <button type="submit" class="w-full bg-green-500 text-white py-2 px-4 rounded hover:bg-green-600">
            Submit
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

<div class="p-6 bg-white rounded-lg shadow-lg text-center">
  <p class="text-lg mb-4">ЁЯУЛ You will get the ration card PDF on the portal in 15 to 20 minutes.</p>
  <p class="text-lg">Or contact us via WhatsApp: 
    <a href="https://wa.me/7518869428" class="text-blue-500 hover:underline">ЁЯУ▒ 7518869428</a>
  </p>
</div>

<!-- Footer рдпрд╣рд╛рдВ load рд╣реЛрдЧрд╛ -->
<div id="footer"></div>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<script>
  // header & footer load
  fetch('header.html')
    .then(res => res.text())
    .then(html => document.getElementById('header').innerHTML = html);

  fetch('footer.html')
    .then(res => res.text())
    .then(html => document.getElementById('footer').innerHTML = html);

  // form submit
  document.getElementById('rationForm').addEventListener('submit', function (e) {
    e.preventDefault();

    const formData = {
      name: document.getElementById('name').value,
      adhar: document.getElementById('adhar').value,
      ration: document.getElementById('ration').value,
      janpad: document.getElementById('janpad').value
    };

    // loading popup рджрд┐рдЦрд╛рдУ
    Swal.fire({
      title: 'Saving your requestтАж',
      text: 'рдХреГрдкрдпрд╛ рдкреНрд░рддреАрдХреНрд╖рд╛ рдХрд░реЗрдВ',
      allowOutsideClick: false,
      didOpen: () => {
        Swal.showLoading();
      }
    });

    fetch('https://script.google.com/macros/s/AKfycbwQx7Lr6HJvsbFY9ndPFb0AoFbP2-55iPWM-Gz2qSOyeG-QT0oRTuwDtLrcAo_h2UXC/exec', {
      method: 'POST',
      body: JSON.stringify(formData)
    })
      .then(res => res.json())
      .then(data => {
        Swal.close(); // loading рдмрдВрдж рдХрд░реЛ
        if (data.status === 'success') {
          Swal.fire({
            icon: 'success',
            title: 'Request Saved!',
            text: 'рдЖрдкрдХрд╛ рдЕрдиреБрд░реЛрдз рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рд╕реЗрд╡ рд╣реЛ рдЧрдпрд╛ред 15-20 рдорд┐рдирдЯ рдореЗрдВ PDF рдЙрдкрд▓рдмреНрдз рд╣реЛрдЧрд╛ред'
          });
          document.getElementById('rationForm').reset();
        } else {
          Swal.fire({
            icon: 'error',
            title: 'Error!',
            text: 'рдбреЗрдЯрд╛ рд╕реЗрд╡ рдХрд░рдиреЗ рдореЗрдВ рд╕рдорд╕реНрдпрд╛ рдЖрдИред'
          });
        }
      })
      .catch(err => {
        Swal.close();
        Swal.fire({
          icon: 'error',
          title: 'Network Error',
          text: 'рд╕рд░реНрд╡рд░ рд╕реЗ рдХрдиреЗрдХреНрд╢рди рдирд╣реАрдВ рд╣реЛ рдкрд╛рдпрд╛ред'
        });
        console.error(err);
      });
  });
</script>

</body>
</html>
